function PreviewRectangle(){var e=require("ui/gtablet/ui_elements/Preview"),t=new e,i=null,n=require("ui/gtablet/external/Listeners"),a=new n,o=require("ui/gtablet/pages/StoredNoGPSMap"),r=null,s=Ti.UI.createView({width:"95%",height:230,backgroundColor:"transparent",layout:"vertical",bubbleParent:!1,top:40}),l=Ti.UI.createView({width:"100%",height:227,backgroundColor:"#ffffff",layout:"vertical",borderColor:"#DCDCDC",borderWidth:.4,top:0}),u=Ti.UI.createView({width:"100%",height:3,backgroundColor:"#DBDBDB"}),c=Ti.UI.createView({height:.5,width:"97%",backgroundColor:"#DCDCDC",top:20}),d=Ti.UI.createView({width:"100%",height:60,top:5}),f=Ti.UI.createView({backgroundColor:"#ffffff",backgroundImage:"/images/ic_airplane.png",width:40,height:40,left:"20%"}),h=Ti.UI.createView({backgroundColor:"#ffffff",backgroundImage:"/images/ic_icon_5066.png",width:40,height:40,right:"20%"}),p=Ti.UI.createView({height:40,width:.5,backgroundColor:"#DCDCDC",left:"50%"}),m=Titanium.UI.createLabel({text:"",font:{fontSize:19,fontFamily:"Lato-Italic"},color:"#65686D",textAlign:"center",width:Ti.UI.SIZE,top:5});return d.add(f),d.add(p),d.add(h),f.addEventListener("click",function(){if(null!=i&&!saveHer.stopExecution){saveHer.stopExecution=!0,m.text="Attendi...";var e=Titanium.Filesystem.getFile(i+"/date.json");Ti.API.info(e.getNativePath());var n=JSON.parse(e.read());if(""==n.latitude&&""==n.longitude){var s=new o;s.openWin(m,i,n,t,r,i)}else{if(!Titanium.Network.getOnline()){{Ti.UI.createAlertDialog({message:"Sembra che il tuo dispositivo non sia connesso ad una rete. Riprova, per piacere.",ok:"Ok",title:"saveHer"}).show()}return void(m.text="")}a.sendRestoredReport(m,i,n,t,r,i)}}}),h.addEventListener("click",function(){if(null!=i&&!saveHer.stopExecution){saveHer.stopExecution=!0,m.text="Attendi...";var e=Titanium.Filesystem.getFile(i);e.deleteDirectory(!0)?(m.text="Fatto",r.reloadCombo(),t.resetReport(),setTimeout(function(){m.text="",saveHer.stopExecution=!1,Ti.App.fireEvent("reload_circle",{})},2e3)):(m.text="Riprova!",r.reloadCombo(),t.resetReport(),setTimeout(function(){m.text="",saveHer.stopExecution=!1},2e3))}}),s.setCurrentPath=function(e){i=e},s.setLabelStatus=function(e){e.text=e},s.setReport=function(e){t.setReport(e)},s.resetReport=function(){t.resetReport(),i=null},s.setCustomCombo=function(e){r=e},Ti.App.addEventListener("report_complete",function(){m.text=""}),l.add(t),l.add(m),l.add(c),l.add(d),s.add(l),s.add(u),s}module.exports=PreviewRectangle;