function CustomCombo(){var e=Titanium.Filesystem.getFile("appdata://","reports"),t=e.getDirectoryListing(),i=t.length,a=null,o=[],n="",r=null,s=null,l=null,c=null,u=null,d=Titanium.UI.createView({width:"90%",height:90,backgroundColor:"#f6f6f6"}),f=function(){};f.UI=require("external/UI");for(var h=0;i>h;h++){r=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]+"/date.json");var p=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]).getNativePath();r.exists()&&(s=JSON.parse(r.read()),""!=s.address?(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute+" in "+s.address,o.push({title:l,value:p}),Ti.API.info(p)):(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute,o.push({title:l,value:p}),Ti.API.info(p)))}return a=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:o,selectedValueIndex:1,multiple:!1,top:15}),a.addEventListener("TwChange",function(e){var t=e.value;Ti.API.info(t),"exclude"!=t?(u.setCurrentPath(t),u.setReport(t)):(u.resetReport(),u.setCurrentPath(null),c=null)}),d.reloadCombo=function(){o=null,o=[];for(var e=Titanium.Filesystem.getFile("appdata://","reports"),t=e.getDirectoryListing(),i=t.length,h=0;i>h;h++){r=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]+"/date.json");var p=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]).getNativePath();r.exists()&&(s=JSON.parse(r.read()),""!=s.address?(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute+" in "+s.address,o.push({title:l,value:p})):(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute,o.push({title:l,value:p})))}var m=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:o,selectedValueIndex:1,multiple:!1,top:15});m.addEventListener("TwChange",function(e){n=e.value,"exclude"!=n?(u.setCurrentPath(n),u.setReport(n)):(u.resetReport(),u.setCurrentPath(null),c=null)}),d.remove(a),a=null,d.add(m),a=m},d.getCurrentPath=function(){return c},d.setPreviewRectangle=function(e){u=e},d.add(a),d}module.exports=CustomCombo;