function CustomCombo(e){var t=Titanium.Filesystem.getFile("appdata://","reports"),i=t.getDirectoryListing(),a=i.length,o=null,r=[],n="",s=null,l=null,c=null,d=null,u=Titanium.UI.createView({width:"90%",height:90,backgroundColor:"#ffffff"}),f=function(){};f.UI=require("external/UI");for(var h=0;a>h;h++){s=Titanium.Filesystem.getFile(t.getNativePath()+"/"+i[h]+"/date.json");var p=Titanium.Filesystem.getFile(t.getNativePath()+"/"+i[h]).getNativePath();s.exists()&&(l=JSON.parse(s.read()),""!=l.address?(c=l.day+"/"+l.month+"/"+l.year+" ore "+l.hour+":"+l.minute+" in "+l.address,r.push({title:c,value:p})):(c=l.day+"/"+l.month+"/"+l.year+" ore "+l.hour+":"+l.minute,r.push({title:c,value:p})))}return o=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:r,selectedValueIndex:1,multiple:!1,top:15}),o.addEventListener("TwChange",function(t){var i=t.value;Ti.API.info(i),"exclude"!=i?(e.setReport(i),d=i):(e.resetReport(),d=null)}),u.reloadCombo=function(){r=[];for(var h=0;a>h;h++){s=Titanium.Filesystem.getFile(t.getNativePath()+"/"+i[h]+"/date.json");var p=Titanium.Filesystem.getFile(t.getNativePath()+"/"+i[h]).getNativePath();s.exists()&&(l=JSON.parse(s.read()),""!=l.address?(c=l.day+"/"+l.month+"/"+l.year+" ore "+l.hour+":"+l.minute+" in "+l.address,r.push({title:c,value:p})):(c=l.day+"/"+l.month+"/"+l.year+" ore "+l.hour+":"+l.minute,r.push({title:c,value:p})))}var g=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:r,selectedValueIndex:1,multiple:!1,top:15});g.addEventListener("TwChange",function(t){n=t.value,"exclude"!=n?(e.setReport(n),d=n):d=null}),u.remove(o),o=null,u.add(g),o=g},u.getCurrentPath=function(){return d},u.add(o),u}module.exports=CustomCombo;