function Profile(){var e=null,t=require("ui/tablet/ui_elements/Buttons"),i=Titanium.Filesystem.getFile("appdata://reports"),a=i.getDirectoryListing().length,o=require("ui/gtablet/ui_elements/CustomCombo"),n=new o,r=require("ui/gtablet/rectangles/PreviewRectangle"),s=new r;if(n.setPreviewRectangle(s),s.setCustomCombo(n),a>0){var l=require("ui/tablet/rectangles/ProfileReportsRectangle");e=new l}else{var c=require("ui/tablet/rectangles/ProfileRectangle");e=new c}var d=Titanium.UI.createWindow({backgroundColor:"#f6f6f6",width:"100%",height:"100%",windowSoftInputMode:Titanium.UI.Android.SOFT_INPUT_STATE_ALWAYS_HIDDEN,orientationModes:[Titanium.UI.PORTRAIT],title:"Profilo"});d.activity.onCreateOptionsMenu=function(){d.activity.actionBar};var u=Titanium.UI.createScrollView({backgroundColor:"#f6f6f6",width:"100%",height:Ti.UI.SIZE,layout:"vertical"}),f=Titanium.UI.createView({width:"100%",height:3,backgroundColor:"#DBDBDB"}),h=Titanium.UI.createLabel({text:"Profilo",font:{fontSize:60,fontFamily:"CaviarDreams"},color:"#4F5153",top:10}),p="";switch(Ti.App.Properties.getString("login_type")){case"facebook":p="Facebook";break;case"google":p="Google+";break;case"linkedin":p="Linkedin"}var m=Titanium.UI.createLabel({text:"Ecco le informazioni ricevute da "+p+" a seguito del tuo login.",font:{fontSize:26,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:15,width:"95%"}),g=new t;g.setButtonTitle("Logout"),g.setButtonTop(40),g.addEventListener("click",function(){var t=Ti.UI.createOptionDialog({title:"Vuoi effettuare il logout?",buttonNames:["Conferma","Annulla"]});t.show(),t.addEventListener("click",function(t){0==t.index&&(e.cleanUp(),setTimeout(function(){Ti.App.Properties.removeProperty("wizard"),Ti.App.Properties.removeProperty("mail"),Ti.App.Properties.removeProperty("first_name"),Ti.App.Properties.removeProperty("last_name"),Ti.App.Properties.removeProperty("picture"),Ti.App.Properties.removeProperty("nickname"),Ti.App.Properties.removeProperty("showMapDialog"),Wizard=require("ui/tablet/wizard/Wizard");var e=new Wizard;e.open(),d.close(),Ti.App.fireEvent("close_app",{})},2e3))})});var T=Titanium.UI.createLabel({text:"Non sei tu o vuoi cambiare utente? Effettua il logout.",font:{fontSize:24,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:20,width:"90%"}),v=Titanium.UI.createLabel({text:"Scegli il report memorizzato: puoi inviarlo o eliminarlo tramite gli appositi pulsanti.",font:{fontSize:20,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:40,width:"95%"}),w=Titanium.UI.createView({width:1,height:40,backgroundColor:"transparent"});return d.addEventListener("androidback",function(){Ti.App.fireEvent("profile_closed",{}),d.close()}),u.add(h),u.add(m),u.add(e),a>0&&(u.add(v),u.add(s),u.add(n)),u.add(T),u.add(g),u.add(w),u.add(f),d.add(u),d}module.exports=Profile;