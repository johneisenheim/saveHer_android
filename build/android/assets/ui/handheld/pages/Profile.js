function Profile(){var e=null,t=require("ui/handheld/ui_elements/Buttons"),i=Titanium.Filesystem.getFile("appdata://reports"),a=i.getDirectoryListing().length,o=require("ui/handheld/ui_elements/CustomCombo"),n=new o,r=require("ui/handheld/rectangles/PreviewRectangle"),s=new r;if(n.setPreviewRectangle(s),s.setCustomCombo(n),a>0){var l=require("ui/handheld/rectangles/ProfileReportsRectangle");e=new l}else{var c=require("ui/handheld/rectangles/ProfileRectangle");e=new c}var u=Titanium.UI.createWindow({backgroundColor:"#f8f8f8",width:"100%",height:"100%",windowSoftInputMode:Titanium.UI.Android.SOFT_INPUT_STATE_ALWAYS_HIDDEN,orientationModes:[Titanium.UI.PORTRAIT]});u.activity.onCreateOptionsMenu=function(){var e=u.activity.actionBar;e.title="Profilo"};var d=Titanium.UI.createLabel({text:"Profilo",font:{fontSize:40,fontFamily:"CaviarDreams"},color:"#4F5153",top:10}),f=Titanium.UI.createScrollView({width:"100%",height:"100%",backgroundColor:"#f6f6f6",layout:"vertical"}),h="";switch(Ti.App.Properties.getString("login_type")){case"facebook":h="Facebook";break;case"google":h="Google+";break;case"linkedin":h="Linkedin"}var p=Titanium.UI.createLabel({text:"Ecco le informazioni ricevute da "+h+" a seguito del tuo login.",font:{fontSize:20,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:15,width:"95%"}),m=new t;m.setButtonTitle("Logout"),m.setButtonTop(25),m.addEventListener("click",function(){var t=Ti.UI.createOptionDialog({title:"Vuoi effettuare il logout?",buttonNames:["Conferma","Annulla"]});t.show(),t.addEventListener("click",function(t){0==t.index&&(e.cleanUp(),setTimeout(function(){Ti.App.Properties.removeProperty("wizard"),Ti.App.Properties.removeProperty("mail"),Ti.App.Properties.removeProperty("first_name"),Ti.App.Properties.removeProperty("last_name"),Ti.App.Properties.removeProperty("picture"),Ti.App.Properties.removeProperty("nickname"),Ti.App.Properties.removeProperty("showMapDialog"),Wizard=require("ui/handheld/wizard/Wizard");var e=new Wizard;e.open(),u.close(),Ti.App.fireEvent("close_app",{})},2e3))})});var g=Titanium.UI.createLabel({text:"Non sei tu o vuoi cambiare utente? Effettua il logout.",font:{fontSize:17,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:20,width:"90%"}),T=Titanium.UI.createLabel({text:"Scegli il report memorizzato: puoi inviarlo o eliminarlo tramite gli appositi pulsanti.",font:{fontSize:17,fontFamily:"CaviarDreams"},color:"#4F5153",textAlign:"center",top:40,width:"95%"}),v=Titanium.UI.createView({width:1,height:20,backgroundColor:"transparent"});return u.addEventListener("androidback",function(){Ti.App.fireEvent("profile_closed",{}),u.close()}),f.add(d),f.add(p),f.add(e),a>0&&(f.add(T),f.add(s),f.add(n)),f.add(g),f.add(m),f.add(v),u.add(f),u}module.exports=Profile;