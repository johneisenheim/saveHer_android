function NoGPSMapWeb(){var e=!0,t=null,i=null,a=null,o=null,n=null,i=null,r=!1,s=require("external/Listeners"),l=new s,c=Titanium.UI.createWindow({width:"100%",heigth:"100%",orientationModes:[Titanium.UI.PORTRAIT],title:""});c.activity.onCreateOptionsMenu=function(){c.activity.actionBar};var u=Titanium.UI.createWebView({width:"100%",height:"100%",top:0,backgroundColor:"#ffffff",cacheMode:Titanium.UI.Android.WEBVIEW_LOAD_NO_CACHE,scalesPageToFit:!0,url:"/HTML/StoredNoGPSMap.html"});u.addEventListener("dblclick",function(){Ti.API.info("dblclick disabled")}),u.addEventListener("doubletap",function(){Ti.API.info("doubletap disabled")});var d=Ti.UI.createView({backgroundColor:"#f8f8f8",width:"100%",height:"100%",layout:"horizontal"}),f=Ti.UI.createSwitch({style:Ti.UI.Android.SWITCH_STYLE_CHECKBOX,title:"Non mostrare più.",top:0,left:0});d.add(f);var h=Ti.UI.createAlertDialog({message:"Scegli la tua posizione attuale. Fai uno zoom il più preciso possibile tramite i tasti + e -, e tieni premuto a lungo per posizionare il pin.",ok:"Ok",title:"saveHer",androidView:d});return h.addEventListener("click",function(){f.getValue()&&Titanium.App.Properties.setInt("showMapDialog",1)}),Ti.App.addEventListener("pin_done",function(e){a.latitude=e.coords.k,a.longitude=e.coords.B,r=!0}),c.addEventListener("androidback",function(){r?(l.sendRestoredReport(t,i,a,o,n,i),c.close()):c.close()}),c.openWin=function(e,r,s,l,u,r){t=e,i=r,a=s,o=l,n=u,i=r,c.open()},c.addEventListener("postlayout",function(){e&&(saveHer.stopExecution=!1,null==Titanium.App.Properties.getInt("showMapDialog")&&h.show())}),c.add(u),c}module.exports=NoGPSMapWeb;