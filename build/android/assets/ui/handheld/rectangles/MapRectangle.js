function MapRectangle(){var e=require("ti.map"),t=!1,i=Ti.UI.createView({width:"95%",height:Ti.UI.SIZE,backgroundColor:"#f8f8f8",layout:"vertical",top:10}),a=Ti.UI.createView({width:"100%",height:"98%",backgroundColor:"#ffffff",layout:"vertical",borderColor:"#DCDCDC",borderWidth:.4,top:0}),o=Ti.UI.createView({width:"100%",height:2,backgroundColor:"#DBDBDB"}),n=e.createView({mapType:e.NORMAL_TYPE,width:"95%",height:"95%",animate:!0,regionFit:!1,userLocation:!1,region:{latitude:42.2962494,longitude:13.4796522},top:5}),r=Titanium.Network.createHTTPClient({onload:function(){var t=r.responseText,i=JSON.parse(t);Ti.API.info(t);for(var a=Ti.App.Properties.getString("nickname"),o=0;o<i.length;o++){var s=e.createAnnotation({latitude:i[o].latitude,longitude:i[o].longitude,title:"Report da "+i[o].nickname,subtitle:"Status: "+i[o].status,animate:!0});s.pincolor=i[o].nickname==a?e.ANNOTATION_GREEN:e.ANNOTATION_BLUE,n.addAnnotation(s)}},onerror:function(){Ti.UI.createAlertDialog({message:"Sembra esserci stato un problema nel server. Ti preghiamo di riprovare, grazie.",ok:"Ok",title:"Network"}).show()}});return i.addEventListener("postlayout",function(){if(!t){var i=e.isGooglePlayServicesAvailable();switch(i){case e.SUCCESS:r.open("GET","http://www.appsaveheritage.com/getpins.php"),r.send(),t=!0;break;case e.SERVICE_MISSING:{Ti.UI.createAlertDialog({message:"saveHer necessita dei Google Play Services, scaricabili gratuitamente dal Play Store.",ok:"Ok",title:"Network"}).show()}break;case e.SERVICE_VERSION_UPDATE_REQUIRED:{Ti.UI.createAlertDialog({message:"saveHer necessita dei Google Play Services, scaricabili gratuitamente dal Play Store. Quelli installati sul tuo dispositivo, sono obsoleti. Aggiornali, per favore.",ok:"Ok",title:"Network"}).show()}break;case e.SERVICE_DISABLED:{Ti.UI.createAlertDialog({message:"saveHer necessita dei Google Play Services, ma sembrano essere disabilitati. Per favore, abilitali.",ok:"Ok",title:"Network"}).show()}break;case e.SERVICE_INVALID:{Ti.UI.createAlertDialog({message:"saveHer necessita dei Google Play Services, ma sembra ci sia un problema di autenticazione. Per favore, reinstallali dal Play Store.",ok:"Ok",title:"Network"}).show()}break;default:{Ti.UI.createAlertDialog({message:"saveHer necessita dei Google Play Services, ma sembra ci sia un problema nel loro caricamento. Per favore, scaricali o reinstallali dal Play Store.",ok:"Ok",title:"Network"}).show()}}}}),a.add(n),i.add(a),i.add(o),i}module.exports=MapRectangle;