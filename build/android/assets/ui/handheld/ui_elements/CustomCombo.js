function CustomCombo(){var e=Titanium.Filesystem.getFile("appdata://","reports"),t=e.getDirectoryListing(),i=t.length,a=null,o=[],r="",n=null,s=null,l=null,c=null,d=null,u=Titanium.UI.createView({width:"90%",height:65,backgroundColor:"#f6f6f6"}),f=function(){};f.UI=require("external/UI");for(var h=0;i>h;h++){n=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]+"/date.json");var p=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]).getNativePath();n.exists()&&(s=JSON.parse(n.read()),""!=s.address?(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute+" in "+s.address,o.push({title:l,value:p})):(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute,o.push({title:l,value:p})))}return a=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:o,selectedValueIndex:1,multiple:!1,top:15}),a.addEventListener("TwChange",function(e){var t=e.value;Ti.API.info(t),"exclude"!=t?(d.setCurrentPath(t),d.setReport(t)):(d.resetReport(),d.setCurrentPath(null),c=null)}),u.reloadCombo=function(){Ti.API.info("reload"),o=null,o=[];var e=Titanium.Filesystem.getFile("appdata://","reports"),t=e.getDirectoryListing(),i=t.length;Ti.API.info(i);for(var h=0;i>h;h++){Ti.API.info("_reload"),n=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]+"/date.json");var p=Titanium.Filesystem.getFile(e.getNativePath()+"/"+t[h]).getNativePath();n.exists()&&(s=JSON.parse(n.read()),""!=s.address?(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute+" in "+s.address,o.push({title:l,value:p})):(l=s.day+"/"+s.month+"/"+s.year+" ore "+s.hour+":"+s.minute,o.push({title:l,value:p})))}Ti.API.info("reload");var g=f.UI.createCombobox({borderWidth:"1dp",borderRadius:"5dp",labelSelect:"Scegli...",width:"100%",height:50,values:o,selectedValueIndex:1,multiple:!1,top:15});Ti.API.info("reload"),g.addEventListener("TwChange",function(e){r=e.value,"exclude"!=r?(d.setCurrentPath(r),d.setReport(r)):(d.resetReport(),d.setCurrentPath(null),c=null)}),Ti.API.info("reload"),u.remove(a),a=null,u.add(g),a=g},u.getCurrentPath=function(){return c},u.setPreviewRectangle=function(e){d=e},u.add(a),u}module.exports=CustomCombo;